<!DOCTYPE html><html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns#"><head itemscope itemtype="http://schema.org/WebSite"><!--[if IE]><![endif]--><link rel="dns-prefetch" href="//fonts.googleapis.com" /><link rel="stylesheet" href="http://www.androidhive.info/wp-content/cache/min/1/911656fa177846aec61d653c98674a7b.css" data-minify="1"/><link rel="stylesheet" href="http://www.androidhive.info/wp-content/cache/min/1/eb9f2973d1f94378cd51f247183dd68f.css" data-minify="1"/><link rel="stylesheet" href="http://www.androidhive.info/wp-content/cache/min/1/ed23373be97de98fd59b5c1ee55222f2.css" data-minify="1"/><meta charset="UTF-8"> <!--[if IE ]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <![endif]--><link rel="profile" href="http://gmpg.org/xfn/11" /><link rel="icon" href="http://test.androidhive.info/wp-content/uploads/2016/04/favicon.png" type="image/x-icon" /><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta itemprop="name" content="androidhive" /><meta itemprop="url" content="http://www.androidhive.info" /><meta itemprop="creator accountablePerson" content=" " /><link rel="pingback" href="http://www.androidhive.info/xmlrpc.php" /><title>Android Building Free Wallpapers App - Part 2</title><style type="text/css">.thrive-adminbar-icon {
				background: url('http://www.androidhive.info/wp-content/plugins/thrive-leads/tcb/editor/css/images/tcb-close-icon.png') no-repeat 0px 0px;
				padding-left: 25px !important;
				width: 20px !important;
				height: 20px !important;
			}</style> <script type="text/javascript">document.documentElement.className = document.documentElement.className.replace( /\bno-js\b/,'js' );</script> <meta name="description" content="Tutorial about building android free wallpapers app using Picasa web albums api. Through this article you can learn how to use combine multiple android components like splash screen, navigation drawer, volley, grid view in a single app."/><meta name="robots" content="noodp"/><link rel="canonical" href="http://www.androidhive.info/2014/08/android-building-free-wallpapers-app-part-2/" /><meta property="og:locale" content="en_US" /><meta property="og:type" content="article" /><meta property="og:title" content="Android Building Free Wallpapers App - Part 2" /><meta property="og:description" content="Tutorial about building android free wallpapers app using Picasa web albums api. Through this article you can learn how to use combine multiple android components like splash screen, navigation drawer, volley, grid view in a single app." /><meta property="og:url" content="http://www.androidhive.info/2014/08/android-building-free-wallpapers-app-part-2/" /><meta property="og:site_name" content="androidhive" /><meta property="article:section" content="Apps" /><meta property="article:published_time" content="2014-08-20T06:18:05+00:00" /><meta property="article:modified_time" content="2014-09-01T05:12:43+00:00" /><meta property="og:updated_time" content="2014-09-01T05:12:43+00:00" /><meta property="og:image" content="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png" /><meta property="og:image:width" content="720" /><meta property="og:image:height" content="359" /><meta name="twitter:card" content="summary" /><meta name="twitter:description" content="Tutorial about building android free wallpapers app using Picasa web albums api. Through this article you can learn how to use combine multiple android components like splash screen, navigation drawer, volley, grid view in a single app." /><meta name="twitter:title" content="Android Building Free Wallpapers App - Part 2" /><meta name="twitter:image" content="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png" /><link rel="alternate" type="application/rss+xml" title="androidhive &raquo; Feed" href="http://www.androidhive.info/feed/" /><link rel="alternate" type="application/rss+xml" title="androidhive &raquo; Comments Feed" href="http://www.androidhive.info/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="androidhive &raquo; Android Building Free Wallpapers App &#8211; Part 2 Comments Feed" href="http://www.androidhive.info/2014/08/android-building-free-wallpapers-app-part-2/feed/" /> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.androidhive.info\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d");return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(String.fromCharCode(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(String.fromCharCode(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(String.fromCharCode(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(String.fromCharCode(55357,56835),0,0):e.fillText(String.fromCharCode(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);</script> <style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style><style id='stylesheet-inline-css' type='text/css'>body {background-color:#ffffff; }
		body {background-image: url( http://www.androidhive.info/wp-content/themes/androidhive-theme/images/nobg.png );}

        .header-social a:hover, header .breadcrumb > div i:hover, header .breadcrumb > div a:hover, .breadcrumb > div a:hover, .post-info a, .latestPost .title a:hover, #site-footer .toggle-menu .toggle-caret .fa:hover, #primary-navigation .sub-menu a:hover, .latestPost .title a:hover, ul.ajax-search-results li a:hover, .sidebar .ajax-search-meta a, .breadcrumb > div i, .single .tags a, .postauthor h5 a:hover, .sidebar a, .comment-meta a, .trending-stories .latestPost .title:hover, .postauthor h5, .copyrights a, .single_post a, .textwidget a, .pnavigation2 a, #sidebar a:hover, .copyrights a:hover, #site-footer .widget li a:hover, .related-posts a:hover, .reply a, .title a:hover, .post-info a:hover, .comm, #tabber .inside li a:hover, .readMore a:hover, .fn a, a, a:hover { color: #000000; }

        .latestPost-categories ul li:hover a, .footer-widgets h3, .reply a:hover, #primary-navigation .sub-menu a:hover, #primary-navigation .sub-menu li.current-menu-item a { color: #000000 !important; }

        .latestPost-news .latestPost { border-top: 2px solid #000000; }

        
        .navigation.mobile-menu-wrapper { background: #000000 !important; }

        #header, .pace .pace-progress, #mobile-menu-wrapper ul li a:hover, .widget h3:before, .featured-category-title:before, .widget .wpt_widget_content .tab_title.selected a, #move-to-top, #load-posts, .featured-videos h4:after, .related-posts h4:after, .postauthor h4:after, #comments h4:after, #commentsAdd h4:after, .contact-form input[type='submit'], #commentform input#submit:hover, .contact-form input[type='submit']:hover, #primary-navigation li a:hover, .pagination a:hover, .pagination ul, .latestPost-review-wrapper, a#pull, #commentform input#submit, .contactform #submit, #move-to-top:hover, .navigation ul .current-menu-item > a, .navigation ul li:hover, .pagination a, #tabber ul.tabs li a.selected, .tagcloud a:hover, .latestPost .review-type-circle.review-total-only, .latestPost .review-type-circle.wp-review-show-total, .single .pagination > .current, .bypostauthor .comment-author .fn:after { background-color:#000000; color: #fff!important; }

		.owl-prev, .owl-next { background-color:#000000!important; }

        #site-footer { background: #EAEAEA; }
		
		.shareit { top: 282px; left: 0; margin: 0; width: 90px; position: fixed; padding: 5px; border:none; border-right: 0;}
		.share-item {margin: 2px;}
		
		.bypostauthor { background: none; }
        .bypostauthor > div .comment-author .fn:after { content: "Author"; position: relative; padding: 2px 10px; margin: 0 10px; color: #FFF; font-size: 13px; line-height: 1; font-weight: normal; border-radius: 3px; }</style> <script type='text/javascript' src='http://www.androidhive.info/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script> <script type='text/javascript' src='http://www.androidhive.info/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/thrive-leads/tcb/editor/js/compat.min.js?ver=1.200.5'></script> <script type='text/javascript'>/*  */
var mts_customscript = {"responsive":"1","nav_menu":"primary"};
/*  */</script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/themes/androidhive-theme/js/customscript.js'></script> <script type='text/javascript'>/*  */
var tickeropts = {"rtl_support":"0"};
/*  */</script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/themes/androidhive-theme/js/jquery.webticker.js'></script> <link rel='https://api.w.org/' href='http://www.androidhive.info/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.androidhive.info/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.androidhive.info/wp-includes/wlwmanifest.xml" /><link rel='shortlink' href='http://www.androidhive.info/?p=20755' /><link rel="alternate" type="application/json+oembed" href="http://www.androidhive.info/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androidhive.info%2F2014%2F08%2Fandroid-building-free-wallpapers-app-part-2%2F" /><link rel="alternate" type="text/xml+oembed" href="http://www.androidhive.info/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.androidhive.info%2F2014%2F08%2Fandroid-building-free-wallpapers-app-part-2%2F&#038;format=xml" /> <script type="text/javascript">window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "http://www.androidhive.info/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.6';
	window._wp_rp_post_id = '20755';
	window._wp_rp_num_rel_posts = '4';
	window._wp_rp_thumbnails = true;
	window._wp_rp_post_title = 'Android+Building+Free+Wallpapers+App+-+Part+2';
	window._wp_rp_post_tags = ['google', 'grid+view', 'navigation+drawer', 'volley', 'apps', 'fragments', 'code', 'wallpap', 'action', 'height', '2', 'bar', 'theme', 'color', 'articl', 'free', 'app', 'a', 'custom', 'android', 'class'];
	window._wp_rp_promoted_content = true;</script> <script type="text/javascript" src="https://wprp.zemanta.com/static/js/loader.js?version=3.6" async></script> <style type="text/css">.related_post_title {
}
ul.related_post {
}
ul.related_post li {
}
ul.related_post li a {
}
ul.related_post li img {
}</style><link href="//fonts.googleapis.com/css?family=Open+Sans|Merriweather&amp;subset=latin" rel="stylesheet" type="text/css"><style type="text/css">#header h1, #header h2 { font-family: 'Open Sans'; font-weight: ; font-size: 25px; color: #ffffff; }
.menu li, .menu li a { font-family: 'Open Sans'; font-weight: ; font-size: 15px; color: #ffffff; }
.latestPost .title a, .latestPost-news .title, .latestPost .title { font-family: 'Merriweather'; font-weight: ; font-size: 23px; color: #252525; }
.single-title { font-family: 'Merriweather'; font-weight: ; font-size: 35px; color: #252525; }
body { font-family: 'Open Sans'; font-weight: ; font-size: 15px; color: #252525; }
.widget h3, .featured-category-title { font-family: 'Open Sans'; font-weight: ; font-size: 15px; color: #252525; }
#sidebar .widget { font-family: 'Open Sans'; font-weight: ; font-size: 14px; color: #252525; }
.footer-widgets, footer .widget li a { font-family: 'Open Sans'; font-weight: ; font-size: 13px; color: #252525; }
h1 { font-family: 'Merriweather'; font-weight: ; font-size: 35px; color: #252525; }
h2 { font-family: 'Merriweather'; font-weight: ; font-size: 24px; color: #252525; }
h3 { font-family: 'Merriweather'; font-weight: ; font-size: 25px; color: #252525; }
h4 { font-family: 'Merriweather'; font-weight: ; font-size: 20px; color: #252525; }
h5 { font-family: 'Merriweather'; font-weight: ; font-size: 18px; color: #252525; }
h6 { font-family: 'Merriweather'; font-weight: ; font-size: 16px; color: #252525; }</style><style type="text/css" id="syntaxhighlighteranchor"></style> <script data-no-minify="1" data-cfasync="false">(function(w,d){function a(){var b=d.createElement("script");b.async=!0;b.src="http://www.androidhive.info/wp-content/plugins/wp-rocket/inc/front/js/lazyload.1.0.2.min.js";var a=d.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}w.attachEvent?w.attachEvent("onload",a):w.addEventListener("load",a,!1)})(window,document);</script> <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-24602371-1', 'auto');
  ga('send', 'pageview');</script> </head><body id="blog" class="single single-post postid-20755 single-format-standard main" itemscope itemtype="http://schema.org/WebPage"><div class="main-container"> <header id="site-header" role="banner" itemscope itemtype="http://schema.org/WPHeader"><div class="upper-navigation"><div class="container clearfix"><div class="breadcrumb"><div class="root"><a href="http://www.androidhive.info/"><i class="fa fa-home"></i></a></div><div class="breaking"><ul class="trending-slider"><li><a href="http://www.androidhive.info/2016/05/android-working-with-card-view-and-recycler-view/" title="Android working with Card View and Recycler View">Android working with Card View and Recycler View</a></li><li><a href="http://www.androidhive.info/2016/02/android-push-notifications-using-gcm-php-mysql-realtime-chat-app-part-3/" title="Android Building Realtime Chat App using GCM, PHP &#038; MySQL &#8211; Part 3">Android Building Realtime Chat App using GCM, PHP &#038; MySQL &#8211; Part 3</a></li><li><a href="http://www.androidhive.info/2016/02/android-push-notifications-using-gcm-php-mysql-realtime-chat-app-part-2/" title="Android Building Realtime Chat App using GCM, PHP &#038; MySQL &#8211; Part 2">Android Building Realtime Chat App using GCM, PHP &#038; MySQL &#8211; Part 2</a></li><li><a href="http://www.androidhive.info/2016/02/android-push-notifications-using-gcm-php-mysql-realtime-chat-app-part-1/" title="Android Building Realtime Chat App using GCM, PHP &#038; MySQL &#8211; Part 1">Android Building Realtime Chat App using GCM, PHP &#038; MySQL &#8211; Part 1</a></li><li><a href="http://www.androidhive.info/2015/12/android-material-design-floating-action-button/" title="Android Material Design Floating Action Button">Android Material Design Floating Action Button</a></li><li><a href="http://www.androidhive.info/2015/09/android-material-design-snackbar-example/" title="Android Material Design Snackbar Example">Android Material Design Snackbar Example</a></li><li><a href="http://www.androidhive.info/2015/09/android-material-design-floating-labels-for-edittext/" title="Android Material Design Floating Labels for EditText">Android Material Design Floating Labels for EditText</a></li><li><a href="http://www.androidhive.info/2015/09/android-material-design-working-with-tabs/" title="Android Material Design working with Tabs">Android Material Design working with Tabs</a></li><li><a href="http://www.androidhive.info/2015/06/android-push-notifications-using-parse-com/" title="Android Push Notifications using Parse.com">Android Push Notifications using Parse.com</a></li><li><a href="http://www.androidhive.info/2015/04/android-getting-started-with-material-design/" title="Android Getting Started with Material Design">Android Getting Started with Material Design</a></li></ul></div></div><div class="header-social"> <a rel="nofollow" href="http://www.facebook.com/ravi8x" class="header-facebook"><span class="fa fa-facebook"></span></a> <a rel="nofollow" href="http://www.twitter.com/ravitamada" class="header-twitter"><span class="fa fa-twitter"></span></a> <a rel="nofollow" href="https://plus.google.com/u/0/108738908574182577919/posts" class="header-google-plus"><span class="fa fa-google-plus"></span></a> <a rel="nofollow" href="http://instagram.com/ravitamada" class="header-instagram"><span class="fa fa-instagram"></span></a></div></div></div><div id="header"><div class="container"><div class="logo-wrap"><h1 id="logo" class="image-logo" itemprop="headline"> <a href="http://www.androidhive.info"><img src="http://www.androidhive.info/wp-content/uploads/2016/04/logo-3.png" alt="androidhive"></a></h1></div><div id="primary-navigation" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement"> <a href="#" id="pull" class="toggle-mobile-menu">Menu</a> <nav class="navigation clearfix mobile-menu-wrapper"><ul id="menu-menu-1" class="menu clearfix"><li id="menu-item-39241" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-39241"><a href="http://download.androidhive.info">Downloads</a></li><li id="menu-item-39242" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-39242"><a href="http://tips.androidhive.info">Tips</a></li><li id="menu-item-39327" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-39327"><a href="http://www.androidhive.info/write-for-us/">Write for Us</a></li></ul> </nav></div></div></div> </header><div id="page" class="single"> <article class="article" itemscope itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png" /><div id="content_box" ><div id="post-20755" class="g post post-20755 type-post status-publish format-standard has-post-thumbnail hentry category-apps category-fragments category-google category-grid-view category-navigation-drawer category-volley has_thumb"><div class="breadcrumb" xmlns:v="http://rdf.data-vocabulary.org/#"><div typeof="v:Breadcrumb" class="root"><a rel="v:url" property="v:title" href="http://www.androidhive.info" rel="nofollow">Home</a></div><div><i class="fa fa-angle-right"></i></div><div typeof="v:Breadcrumb"><a href="http://www.androidhive.info/category/apps/" rel="v:url" property="v:title">Apps</a></div><div><i class="fa fa-angle-right"></i></div><div><span>Android Building Free Wallpapers App &#8211; Part 2</span></div></div><div class="single_post"> <header><h1 class="title single-title entry-title" itemprop="headline">Android Building Free Wallpapers App &#8211; Part 2</h1><div class="post-info"> <span class="theauthor">by <span itemprop="author"><a rel="nofollow" href="http://www.androidhive.info/author/admin/" title="Posts by Ravi Tamada" rel="author">Ravi Tamada</a><span class="divider1">/</span></span></span> <span class="thetime updated"><span itemprop="datePublished">August 20, 2014<span class="divider1">/</span></span></span> <span class="thecomment"><i class="fa fa-comments"></i> <a href="http://www.androidhive.info/2014/08/android-building-free-wallpapers-app-part-2/#disqus_thread">Comments</a></span></div> </header><div class="post-single-content box mark-links entry-content"><div class="thecontent" itemprop="articleBody"><div style="float:left;margin:10px 10px 10px 0;"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>  <ins class="adsbygoogle"
style="display:inline-block;width:336px;height:280px"
data-ad-client="ca-pub-9207768510467156"
data-ad-slot="1410361821"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div><p>In the <a href="http://www.androidhive.info/2014/08/android-building-free-wallpapers-app-part-1/" title="Android Building Free Wallpapers App â Part 1" target="_blank" class="link">1st Part</a> we prepared required classes for this app. In this we&#8217;ll start adding one by one screen to the app and at the end of the article we should be able to complete the application.</p><div style="display:none"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png" alt="android-free-wallpapers-app-banner-2" width="720" height="359" class="alignnone size-full wp-image-20786" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2-300x150.png 300w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png 720w" sizes="(max-width: 720px) 100vw, 720px" /><noscript><img src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png" alt="android-free-wallpapers-app-banner-2" width="720" height="359" class="alignnone size-full wp-image-20786" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2-300x150.png 300w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-banner-2.png 720w" sizes="(max-width: 720px) 100vw, 720px" /></noscript></div><div class="clear"></div><div class="download_code"><a href="http://download.androidhive.info/download?code=USbWTSBrC94EAUEUJJ6BpuczbXvG7GYjPBurbX%2Bpf4sfiU4NJjnetPIi6YJ8IS1Q86MNC9RvecE48vdjNu2VktkI5hnzB9ro16xrPcFHJYc13wiM7F7wqWVew%3D%3Dm97icrNlcgONZ9FjWtaRjnQKmz26uceFJoF" target="_blank">DOWNLOAD CODE</a></div><div class="yt_video"> <label>VIDEO DEMO</label><br /> <iframe src="http://www.youtube.com/embed/9DkbbPnq4_I" frameborder="0" allowfullscreen="" style="width: 719px; height: 444.7265625px;"></iframe></div><p></p><h2>Styling The Action Bar</h2><p><strong>12</strong>. You might noticed that this app action bar is having customized background color. That can be done by defining a custom theme in <strong>res â values â styles.xml</strong> folder. Also this is not a complete action bar customization. I am just changing the background color of it.</p><p>If you want to customize it completely, <a href=https://developer.android.com/training/basics/actionbar/styling.html target="_blank" class="link">Styling the Action Bar</a> will helps you.  Add below code in <strong>res â values â styles.xml</strong>. If you donât find styles.xml, create a new file in values folder.</p><pre class="brush: xml; title: styles.xml; notranslate" title="styles.xml">
&lt;resources&gt;

    &lt;style name=&quot;FreeWallTheme&quot; parent=&quot;@android:style/Theme.Holo.Light&quot;&gt;
        &lt;item name=&quot;android:actionBarStyle&quot;&gt;@style/MyActionBarTheme&lt;/item&gt;
        &lt;item name=&quot;android:actionOverflowButtonStyle&quot;&gt;@style/OverFlow&lt;/item&gt;
    &lt;/style&gt;

    &lt;style name=&quot;MyActionBarTheme&quot; parent=&quot;@android:style/Widget.Holo.Light.ActionBar&quot;&gt;
        &lt;item name=&quot;android:background&quot;&gt;@color/action_bar&lt;/item&gt;
        &lt;item name=&quot;android:titleTextStyle&quot;&gt;@style/TitleTextStyle&lt;/item&gt;
    &lt;/style&gt;

    &lt;style name=&quot;TitleTextStyle&quot; parent=&quot;android:TextAppearance.Holo.Widget.ActionBar.Title&quot;&gt;
        &lt;item name=&quot;android:textColor&quot;&gt;@color/action_bar_title&lt;/item&gt;
    &lt;/style&gt;

    &lt;style name=&quot;OverFlow&quot; parent=&quot;android:style/Widget.Holo.ActionButton.Overflow&quot;&gt;
        &lt;item name=&quot;android:src&quot;&gt;@drawable/ic_action_overflow&lt;/item&gt;
    &lt;/style&gt;

&lt;/resources&gt;
</pre><p> <strong>13</strong>. Now in order to apply this style, open the <strong>AndroidManifest.xml</strong> file and add the style using <strong>android:theme</strong> attribute for <application> tag. Also add below permissions too.</p><p><em>INTERNET</em> â To consume internet<br /> <em>WRITE_EXTERNAL_STORAGE</em> â To store wallpapers in SDCard<br /> <em>SET_WALLPAPER</em> â To update the device wallpaper</p><pre class="brush: xml; title: AndroidManifest.xml; notranslate" title="AndroidManifest.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    package=&quot;info.androidhive.awesomewallpapers&quot;
    android:versionCode=&quot;1&quot;
    android:versionName=&quot;1.0&quot; &gt;

    &lt;uses-sdk
        android:minSdkVersion=&quot;14&quot;
        android:targetSdkVersion=&quot;19&quot; /&gt;

    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;

    &lt;application
        android:name=&quot;info.androidhive.awesomewallpapers.app.AppController&quot;
        android:allowBackup=&quot;true&quot;
        android:icon=&quot;@drawable/ic_launcher&quot;
        android:label=&quot;@string/app_name&quot;
        android:theme=&quot;@style/FreeWallTheme&quot; &gt;
        &lt;!-- all the activities goes here --&gt;
    &lt;/application&gt;

&lt;/manifest&gt;
</pre><p>Now if you run the app, you should see the action bar color changed.<br /></p><h2>Adding the Splash Screen</h2><p>Splash screens are not necessary for every app. But for our app it make sense to have a splash screen as we have to download wallpapers categories before going into the app. In brief we make a request to Picasa to get list of public albums (in our case those are wallpapers categories) and store them in shared preferences. So let&#8217;s create the necessary files for the splash screen.</p><p><strong>14</strong>. Create an xml file named <strong>activity_splash.xml</strong> under <strong>res â layout</strong> folder.</p><pre class="brush: xml; title: activity_splash.xml; notranslate" title="activity_splash.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;vertical&quot; &gt;

    &lt;ImageView android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;fill_parent&quot;
        android:src=&quot;@drawable/splash_screen&quot;
        android:scaleType=&quot;centerCrop&quot;/&gt;
    

&lt;/LinearLayout&gt;
</pre><div class="image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/08/android-freewallpapers-app-splash-screen.jpg" alt="android freewallpapers app splash screen" width="720" height="1000" class="alignnone size-full wp-image-20766" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-freewallpapers-app-splash-screen-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-freewallpapers-app-splash-screen.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><noscript><img src="http://www.androidhive.info/wp-content/uploads/2014/08/android-freewallpapers-app-splash-screen.jpg" alt="android freewallpapers app splash screen" width="720" height="1000" class="alignnone size-full wp-image-20766" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-freewallpapers-app-splash-screen-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-freewallpapers-app-splash-screen.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /></noscript></div><p> <strong>15</strong>. Now create a class named <strong>SplashActivity.java</strong> in the app main package and paste the below code. Here we are making a json call to Picasa and fetching list of albums. Once albums are fetched we are storing them in Shared Preferences. Later these categories will be loaded into navigation drawer.</p><pre class="brush: java; title: SplashActivity.java; notranslate" title="SplashActivity.java">
package info.androidhive.awesomewallpapers;

import info.androidhive.awesomewallpapers.app.AppConst;
import info.androidhive.awesomewallpapers.app.AppController;
import info.androidhive.awesomewallpapers.picasa.model.Category;

import java.util.ArrayList;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.Window;
import android.widget.Toast;

import com.android.volley.Request.Method;
import com.android.volley.Response;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.JsonObjectRequest;

public class SplashActivity extends Activity {
	private static final String TAG = SplashActivity.class.getSimpleName();
	private static final String TAG_FEED = &quot;feed&quot;, TAG_ENTRY = &quot;entry&quot;,
			TAG_GPHOTO_ID = &quot;gphoto$id&quot;, TAG_T = &quot;$t&quot;,
			TAG_ALBUM_TITLE = &quot;title&quot;;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		getWindow().requestFeature(Window.FEATURE_ACTION_BAR);
		getActionBar().hide();
		setContentView(R.layout.activity_splash);

		// Picasa request to get list of albums
		String url = AppConst.URL_PICASA_ALBUMS
				.replace(&quot;_PICASA_USER_&quot;, AppController.getInstance()
						.getPrefManger().getGoogleUserName());
		
		Log.d(TAG, &quot;Albums request url: &quot; + url);

		// Preparing volley's json object request
		JsonObjectRequest jsonObjReq = new JsonObjectRequest(Method.GET, url,
				null, new Response.Listener&lt;JSONObject&gt;() {

					@Override
					public void onResponse(JSONObject response) {
						Log.d(TAG, &quot;Albums Response: &quot; + response.toString());
						List&lt;Category&gt; albums = new ArrayList&lt;Category&gt;();
						try {
							// Parsing the json response
							JSONArray entry = response.getJSONObject(TAG_FEED)
									.getJSONArray(TAG_ENTRY);

							// loop through albums nodes and add them to album
							// list
							for (int i = 0; i &lt; entry.length(); i++) {
								JSONObject albumObj = (JSONObject) entry.get(i);
								// album id
								String albumId = albumObj.getJSONObject(
										TAG_GPHOTO_ID).getString(TAG_T);

								// album title
								String albumTitle = albumObj.getJSONObject(
										TAG_ALBUM_TITLE).getString(TAG_T);

								Category album = new Category();
								album.setId(albumId);
								album.setTitle(albumTitle);

								// add album to list
								albums.add(album);

								Log.d(TAG, &quot;Album Id: &quot; + albumId
										+ &quot;, Album Title: &quot; + albumTitle);
							}

							// Store albums in shared pref
							AppController.getInstance().getPrefManger()
									.storeCategories(albums);

							// String the main activity
							Intent intent = new Intent(getApplicationContext(),
									MainActivity.class);
							startActivity(intent);
							// closing spalsh activity
							finish();

						} catch (JSONException e) {
							e.printStackTrace();
							Toast.makeText(getApplicationContext(),
									getString(R.string.msg_unknown_error),
									Toast.LENGTH_LONG).show();
						}

					}
				}, new Response.ErrorListener() {

					@Override
					public void onErrorResponse(VolleyError error) {
						Log.e(TAG, &quot;Volley Error: &quot; + error.getMessage());

						// show error toast
						Toast.makeText(getApplicationContext(),
								getString(R.string.splash_error),
								Toast.LENGTH_LONG).show();

						// Unable to fetch albums
						// check for existing Albums data in Shared Preferences
						if (AppController.getInstance().getPrefManger()
								.getCategories() != null &amp;&amp; AppController.getInstance().getPrefManger()
								.getCategories().size() &gt; 0) {
							// String the main activity
							Intent intent = new Intent(getApplicationContext(),
									MainActivity.class);
							startActivity(intent);
							// closing spalsh activity
							finish();
						} else {
							// Albums data not present in the shared preferences
							// Launch settings activity, so that user can modify
							// the settings

							Intent i = new Intent(SplashActivity.this,
									SettingsActivity.class);
							// clear all the activities
							i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK
									| Intent.FLAG_ACTIVITY_CLEAR_TASK);
							startActivity(i);
						}

					}
				});

		// disable the cache for this request, so that it always fetches updated
		// json
		jsonObjReq.setShouldCache(false);

		// Making the request
		AppController.getInstance().addToRequestQueue(jsonObjReq);

	}

}
</pre><p><strong>16</strong>. Now add the <strong>SplashActivity</strong> as launcher activity in the <strong>AndroidManifest.xml</strong> inside <strong>&lt;application&gt;</strong></p><pre class="brush: xml; title: ; notranslate" title="">
   &lt;application ....&gt;
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.SplashActivity&quot;
            android:label=&quot;@string/app_name&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
            &lt;intent-filter&gt;
                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;

                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;
</pre><p>Now if you run the app, you should see albums json logged in <strong>LogCat</strong>. If yes, we can move to the next step i.e adding navigation drawer and displaying the wallpaper categories.<br /></p><h2>Adding Navigation Drawer</h2><p>Before following this step make sure that you read <a href="http://www.androidhive.info/2013/11/android-sliding-menu-using-navigation-drawer/" target="_blank" class="link">Android Sliding Menu using Navigation Drawer</a> tutorial to make this step simple for you. To add navigation drawer, we need to create fewer layouts and classes.</p><p><strong>17</strong>. Create <strong>drawer_list_item.xml</strong> under <strong>res â layout</strong> directory. This is the layout file for navigation drawer list item to display wallpaper category name.</p><pre class="brush: xml; title: drawer_list_item.xml; notranslate" title="drawer_list_item.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;48dp&quot; 
    android:background=&quot;@drawable/list_selector&quot;&gt;

    &lt;TextView
        android:id=&quot;@+id/title&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;match_parent&quot;
        android:layout_alignParentLeft=&quot;true&quot;        
        android:minHeight=&quot;?android:attr/listPreferredItemHeightSmall&quot;
        android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;
        android:textColor=&quot;@color/list_item_title&quot;
        android:gravity=&quot;center_vertical&quot;
        android:paddingRight=&quot;10dp&quot;
        android:paddingLeft=&quot;10dp&quot;/&gt;

&lt;/RelativeLayout&gt;
</pre><p> <strong>18</strong>. Create <strong>NavDrawerItem.java</strong> in your project&#8217;s main package and paste the below code. This is a model class for navigation list item.</p><pre class="brush: java; title: NavDrawerItem.java; notranslate" title="NavDrawerItem.java">
package info.androidhive.awesomewallpapers;

public class NavDrawerItem {

	private String albumId, albumTitle;
	// boolean flag to check for recent album
	private boolean isRecentAlbum = false;

	public NavDrawerItem() {
	}

	public NavDrawerItem(String albumId, String albumTitle) {
		this.albumId = albumId;
		this.albumTitle = albumTitle;
	}

	public NavDrawerItem(String albumId, String albumTitle,
			boolean isRecentAlbum) {
		this.albumTitle = albumTitle;
		this.isRecentAlbum = isRecentAlbum;
	}

	public String getAlbumId() {
		return albumId;
	}

	public void setAlbumId(String albumId) {
		this.albumId = albumId;
	}

	public String getTitle() {
		return this.albumTitle;
	}

	public void setTitle(String title) {
		this.albumTitle = title;
	}

	public boolean isRecentAlbum() {
		return isRecentAlbum;
	}

	public void setRecentAlbum(boolean isRecentAlbum) {
		this.isRecentAlbum = isRecentAlbum;
	}
}
</pre><p> <strong>19</strong>. Now we need to create the custom list adapter class which provides data to navigation list view. Create a class named <strong>NavDrawerListAdapter.java</strong> under <strong>adapter</strong> package. This adapter class inflates the <strong>drawer_list_item.xml</strong> layout by displaying appropriate wallpaper category name.</p><pre class="brush: java; title: NavDrawerListAdapter.java; notranslate" title="NavDrawerListAdapter.java">
package info.androidhive.awesomewallpapers.helper;

import info.androidhive.awesomewallpapers.NavDrawerItem;
import info.androidhive.awesomewallpapers.R;

import java.util.ArrayList;

import android.app.Activity;
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

public class NavDrawerListAdapter extends BaseAdapter {

	private Context context;
	private ArrayList&lt;NavDrawerItem&gt; navDrawerItems;

	public NavDrawerListAdapter(Context context,
			ArrayList&lt;NavDrawerItem&gt; navDrawerItems) {
		this.context = context;
		this.navDrawerItems = navDrawerItems;
	}

	@Override
	public int getCount() {
		return navDrawerItems.size();
	}

	@Override
	public Object getItem(int position) {
		return navDrawerItems.get(position);
	}

	@Override
	public long getItemId(int position) {
		return position;
	}

	@Override
	public View getView(int position, View convertView, ViewGroup parent) {
		if (convertView == null) {
			LayoutInflater mInflater = (LayoutInflater) context
					.getSystemService(Activity.LAYOUT_INFLATER_SERVICE);
			convertView = mInflater.inflate(R.layout.drawer_list_item, null);
		}

		TextView txtTitle = (TextView) convertView.findViewById(R.id.title);

		txtTitle.setText(navDrawerItems.get(position).getTitle());

		return convertView;
	}

}
</pre><p> <strong>20</strong>. Now we need to create a list view element in our main activity. Create an xml named <strong>activity_main.xml</strong> with the below content.</p><pre class="brush: xml; title: activity_main.xml; notranslate" title="activity_main.xml">
&lt;android.support.v4.widget.DrawerLayout
    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:id=&quot;@+id/drawer_layout&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;&gt;

    &lt;!-- Framelayout to display Fragments --&gt;
    &lt;FrameLayout
        android:id=&quot;@+id/frame_container&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot; /&gt;

    &lt;!-- Listview to display slider menu --&gt;
    &lt;ListView
        android:id=&quot;@+id/list_slidermenu&quot;
        android:layout_width=&quot;240dp&quot;
        android:layout_height=&quot;match_parent&quot;
        android:layout_gravity=&quot;start&quot;
        android:choiceMode=&quot;singleChoice&quot;
        android:divider=&quot;@color/list_divider&quot;
        android:dividerHeight=&quot;1dp&quot;        
        android:listSelector=&quot;@drawable/list_selector&quot;
        android:background=&quot;@color/list_background&quot;/&gt;
&lt;/android.support.v4.widget.DrawerLayout&gt;
</pre><p> <strong>21</strong>. Open your main activity class (in my case <strong>MainActivity.java</strong>) and add the below code. Eclipse might show you errors on the lines where you see GridFragment. For now comment those lines.</p><pre class="brush: java; title: MainActivity.java; notranslate" title="MainActivity.java">
package info.androidhive.awesomewallpapers;

import info.androidhive.awesomewallpapers.app.AppController;
import info.androidhive.awesomewallpapers.helper.NavDrawerListAdapter;
import info.androidhive.awesomewallpapers.picasa.model.Category;

import java.util.ArrayList;
import java.util.List;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.Fragment;
import android.app.FragmentManager;
import android.content.Intent;
import android.content.res.Configuration;
import android.graphics.drawable.ColorDrawable;
import android.os.Bundle;
import android.support.v4.app.ActionBarDrawerToggle;
import android.support.v4.widget.DrawerLayout;
import android.util.Log;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ListView;

public class MainActivity extends Activity {
	private static final String TAG = MainActivity.class.getSimpleName();
	private DrawerLayout mDrawerLayout;
	private ListView mDrawerList;
	private ActionBarDrawerToggle mDrawerToggle;

	// Navigation drawer title
	private CharSequence mDrawerTitle;
	private CharSequence mTitle;
	private List&lt;Category&gt; albumsList;
	private ArrayList&lt;NavDrawerItem&gt; navDrawerItems;
	private NavDrawerListAdapter adapter;

	@SuppressLint(&quot;NewApi&quot;)
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);

		mTitle = mDrawerTitle = getTitle();

		mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
		mDrawerList = (ListView) findViewById(R.id.list_slidermenu);

		navDrawerItems = new ArrayList&lt;NavDrawerItem&gt;();

		// Getting the albums from shared preferences
		albumsList = AppController.getInstance().getPrefManger().getCategories();

		// Insert &quot;Recently Added&quot; in navigation drawer first position
		Category recentAlbum = new Category(null,
				getString(R.string.nav_drawer_recently_added));

		albumsList.add(0, recentAlbum);

		// Loop through albums in add them to navigation drawer adapter
		for (Category a : albumsList) {
			navDrawerItems.add(new NavDrawerItem(a.getId(), a.getTitle()));
		}

		mDrawerList.setOnItemClickListener(new SlideMenuClickListener());

		// Setting the nav drawer list adapter
		adapter = new NavDrawerListAdapter(getApplicationContext(),
				navDrawerItems);
		mDrawerList.setAdapter(adapter);

		// Enabling action bar app icon and behaving it as toggle button
		getActionBar().setDisplayHomeAsUpEnabled(true);
		getActionBar().setHomeButtonEnabled(true);
		getActionBar().setIcon(
				new ColorDrawable(getResources().getColor(
						android.R.color.transparent)));

		mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout,
				R.drawable.ic_drawer, R.string.app_name, R.string.app_name) {
			public void onDrawerClosed(View view) {
				getActionBar().setTitle(mTitle);
				// calling onPrepareOptionsMenu() to show action bar icons
				invalidateOptionsMenu();
			}

			public void onDrawerOpened(View drawerView) {
				getActionBar().setTitle(mDrawerTitle);
				// calling onPrepareOptionsMenu() to hide action bar icons
				invalidateOptionsMenu();
			}
		};
		mDrawerLayout.setDrawerListener(mDrawerToggle);

		if (savedInstanceState == null) {
			// on first time display view for first nav item
			displayView(0);
		}
	}

	/**
	 * Navigation drawer menu item click listener
	 * */
	private class SlideMenuClickListener implements
			ListView.OnItemClickListener {
		@Override
		public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,
				long id) {
			// display view for selected nav drawer item
			displayView(position);
		}
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		getMenuInflater().inflate(R.menu.main, menu);
		return true;
	}

	/**
	 * On menu item selected
	 * */
	@Override
	public boolean onOptionsItemSelected(MenuItem item) {
		// toggle nav drawer on selecting action bar app icon/title
		if (mDrawerToggle.onOptionsItemSelected(item)) {
			return true;
		}
		// Handle action bar actions click
		switch (item.getItemId()) {
		case R.id.action_settings:
			// Selected settings menu item
			// launch Settings activity
			Intent intent = new Intent(MainActivity.this,
					SettingsActivity.class);
			startActivity(intent);
			return true;
		default:
			return super.onOptionsItemSelected(item);
		}
	}

	/**
	 * Called when invalidateOptionsMenu() is triggered
	 */
	@Override
	public boolean onPrepareOptionsMenu(Menu menu) {
		// if nav drawer is opened, hide the action items
		boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);
		menu.findItem(R.id.action_settings).setVisible(!drawerOpen);
		return super.onPrepareOptionsMenu(menu);
	}

	/**
	 * Diplaying fragment view for selected nav drawer list item
	 * */
	private void displayView(int position) {
		// update the main content by replacing fragments
		Fragment fragment = null;
		switch (position) {
		case 0:
			// Recently added item selected
			// don't pass album id to grid fragment
			fragment = GridFragment.newInstance(null);
			break;

		default:
			// selected wallpaper category
			// send album id to grid fragment to list all the wallpapers
			String albumId = albumsList.get(position).getId();
			fragment = GridFragment.newInstance(albumId);
			break;
		}

		if (fragment != null) {
			FragmentManager fragmentManager = getFragmentManager();
			fragmentManager.beginTransaction()
					.replace(R.id.frame_container, fragment).commit();

			// update selected item and title, then close the drawer
			mDrawerList.setItemChecked(position, true);
			mDrawerList.setSelection(position);
			setTitle(albumsList.get(position).getTitle());
			mDrawerLayout.closeDrawer(mDrawerList);
		} else {
			// error in creating fragment
			Log.e(TAG, &quot;Error in creating fragment&quot;);
		}
	}

	@Override
	public void setTitle(CharSequence title) {
		mTitle = title;
		getActionBar().setTitle(mTitle);
	}

	/**
	 * When using the ActionBarDrawerToggle, you must call it during
	 * onPostCreate() and onConfigurationChanged()...
	 */

	@Override
	protected void onPostCreate(Bundle savedInstanceState) {
		super.onPostCreate(savedInstanceState);
		// Sync the toggle state after onRestoreInstanceState has occurred.
		mDrawerToggle.syncState();
	}

	@Override
	public void onConfigurationChanged(Configuration newConfig) {
		super.onConfigurationChanged(newConfig);
		// Pass any configuration change to the drawer toggls
		mDrawerToggle.onConfigurationChanged(newConfig);
	}
}
</pre><p><strong>22</strong>. Add the <strong>MainActivity.java</strong> activity in the <strong>AndroidManifest.xml</strong> inside <strong>&lt;application&gt;</strong> tag.<br /></p><pre class="brush: xml; title: ; notranslate" title="">
&lt;application ...&gt;
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.MainActivity&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
        &lt;/activity&gt;
&lt;/application&gt;
</pre><p>Now run the app and test it once. You should see the wallpaper categories displayed in navigation drawer.</p><div class="image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-navigation-drawer.jpg" alt="android free wallpapers app navigation drawer" width="720" height="1000" class="alignnone size-full wp-image-20699" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-navigation-drawer-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-navigation-drawer.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><noscript><img src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-navigation-drawer.jpg" alt="android free wallpapers app navigation drawer" width="720" height="1000" class="alignnone size-full wp-image-20699" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-navigation-drawer-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-navigation-drawer.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /></noscript></div><p></p><h2>Wallpapers Grid Thumbnail Preview</h2><p>The next step is displaying the wallpapers of selected category in a thumbnail fashion. For this we need a GridView and few other class files.</p><p><strong>23</strong>. Create an xml file named <strong>grid_item_photo.xml</strong> under <strong>res â layout</strong> and add the below code. This layout defines single grid item tile in the GridView. Here we are using volley&#8217;s <strong>NetworkImageView</strong> to download the image from an URL and display.</p><pre class="brush: xml; title: grid_item_photo.xml; notranslate" title="grid_item_photo.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;fill_parent&quot;
    android:layout_height=&quot;fill_parent&quot;
    android:background=&quot;@color/grid_item_bg&quot; &gt;

    &lt;ImageView
        android:id=&quot;@+id/imgLoader&quot;
        android:layout_width=&quot;30dp&quot;
        android:layout_height=&quot;30dp&quot;
        android:layout_centerInParent=&quot;true&quot;
        android:src=&quot;@drawable/ico_loader&quot; /&gt;

    &lt;!-- Thumbnail Image --&gt;

    &lt;com.android.volley.toolbox.NetworkImageView
        android:id=&quot;@+id/thumbnail&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;/&gt;

&lt;/RelativeLayout&gt;
</pre><p> <strong>24</strong>. Create another layout file named <strong>fragment_grid.xml</strong> under <strong>res â layout</strong> folder. This layout contains actual <strong>GridView</strong> and a <strong>ProgressBar</strong> to show to loading progress while the request is in process.</p><pre class="brush: xml; title: fragment_grid.xml; notranslate" title="fragment_grid.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;fill_parent&quot;
    android:layout_height=&quot;fill_parent&quot; 
    android:background=&quot;@color/black&quot;&gt;

    &lt;ProgressBar
        android:id=&quot;@+id/pbLoader&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_centerInParent=&quot;true&quot; 
        style=&quot;?android:attr/progressBarStyle&quot;&gt;
    &lt;/ProgressBar&gt;

    &lt;GridView
        android:id=&quot;@+id/grid_view&quot;
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;fill_parent&quot;
        android:background=&quot;@color/grid_bg&quot;
        android:gravity=&quot;center&quot;
        android:numColumns=&quot;auto_fit&quot;
        android:stretchMode=&quot;columnWidth&quot;&gt;
    &lt;/GridView&gt;

&lt;/RelativeLayout&gt;
</pre><p> <strong>25</strong>. Now just like navigation drawer adapter, we need to create another adapter class to provide data to GridView. So create a class named <strong>GridViewAdapter.java</strong> under <strong>adapter</strong> package. This class inflates <strong>grid_item_photo.xml</strong> layout with appropriate wallpaper image.</p><pre class="brush: java; title: GridViewAdapter.java; notranslate" title="GridViewAdapter.java">
package info.androidhive.awesomewallpapers.helper;

import info.androidhive.awesomewallpapers.R;
import info.androidhive.awesomewallpapers.app.AppController;
import info.androidhive.awesomewallpapers.picasa.model.Wallpaper;

import java.util.ArrayList;
import java.util.List;

import android.app.Activity;
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.RelativeLayout;

import com.android.volley.toolbox.ImageLoader;
import com.android.volley.toolbox.NetworkImageView;

public class GridViewAdapter extends BaseAdapter {

	private Activity _activity;
	private LayoutInflater inflater;
	private List&lt;Wallpaper&gt; wallpapersList = new ArrayList&lt;Wallpaper&gt;();
	private int imageWidth;
	ImageLoader imageLoader = AppController.getInstance().getImageLoader();

	public GridViewAdapter(Activity activity, List&lt;Wallpaper&gt; wallpapersList,
			int imageWidth) {
		this._activity = activity;
		this.wallpapersList = wallpapersList;
		this.imageWidth = imageWidth;
	}

	@Override
	public int getCount() {
		return this.wallpapersList.size();
	}

	@Override
	public Object getItem(int position) {
		return this.wallpapersList.get(position);
	}

	@Override
	public long getItemId(int position) {
		return position;
	}

	@Override
	public View getView(int position, View convertView, ViewGroup parent) {
		if (inflater == null)
			inflater = (LayoutInflater) _activity
					.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
		if (convertView == null)
			convertView = inflater.inflate(R.layout.grid_item_photo, null);

		if (imageLoader == null)
			imageLoader = AppController.getInstance().getImageLoader();

		// Grid thumbnail image view
		NetworkImageView thumbNail = (NetworkImageView) convertView
				.findViewById(R.id.thumbnail);

		Wallpaper p = wallpapersList.get(position);

		thumbNail.setScaleType(ImageView.ScaleType.CENTER_CROP);
		thumbNail.setLayoutParams(new RelativeLayout.LayoutParams(imageWidth,
				imageWidth));
		thumbNail.setImageUrl(p.getUrl(), imageLoader);

		return convertView;
	}

}
</pre><p> <strong>26</strong>. Create a class named <strong>GridFragment.java</strong> under the project&#8217;s main package. This is where we implement actual GridView implementation. This is main fragment class will be loaded when an item from navigation drawer selected. Briefly it works as below</p><p><strong>></strong> User selects a wallpaper category from navigation drawer.<br /> <strong>></strong> The selected category id (in other words album id) will be passed to GridFragment<br /> <strong>></strong> Using the category id, we make another request to Picasa to get all the photos under that category.<br /> <strong>></strong> Finally the photos json will be parsed and wallpaper model objects will be passed to GridViewAdpater to render the wallpapers in grid view.</p><div style="float:none;margin:10px 0 10px 0;text-align:center;"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>  <ins class="adsbygoogle"
style="display:inline-block;width:300px;height:250px"
data-ad-client="ca-pub-9207768510467156"
data-ad-slot="2887095024"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div><pre class="brush: java; title: GridFragment.java; notranslate" title="GridFragment.java">
package info.androidhive.awesomewallpapers;

import info.androidhive.awesomewallpapers.app.AppConst;
import info.androidhive.awesomewallpapers.app.AppController;
import info.androidhive.awesomewallpapers.helper.GridViewAdapter;
import info.androidhive.awesomewallpapers.picasa.model.Wallpaper;
import info.androidhive.awesomewallpapers.util.PrefManager;
import info.androidhive.awesomewallpapers.util.Utils;

import java.util.ArrayList;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.Fragment;
import android.content.Intent;
import android.content.res.Resources;
import android.os.Bundle;
import android.util.Log;
import android.util.TypedValue;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.GridView;
import android.widget.ProgressBar;
import android.widget.Toast;

import com.android.volley.Request.Method;
import com.android.volley.Response;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.JsonObjectRequest;

public class GridFragment extends Fragment {
	private static final String TAG = GridFragment.class.getSimpleName();
	private Utils utils;
	private GridViewAdapter adapter;
	private GridView gridView;
	private int columnWidth;
	private static final String bundleAlbumId = &quot;albumId&quot;;
	private String selectedAlbumId;
	private List&lt;Wallpaper&gt; photosList;
	private ProgressBar pbLoader;
	private PrefManager pref;

	// Picasa JSON response node keys
	private static final String TAG_FEED = &quot;feed&quot;, TAG_ENTRY = &quot;entry&quot;,
			TAG_MEDIA_GROUP = &quot;media$group&quot;,
			TAG_MEDIA_CONTENT = &quot;media$content&quot;, TAG_IMG_URL = &quot;url&quot;,
			TAG_IMG_WIDTH = &quot;width&quot;, TAG_IMG_HEIGHT = &quot;height&quot;, TAG_ID = &quot;id&quot;,
			TAG_T = &quot;$t&quot;;

	public GridFragment() {
	}

	public static GridFragment newInstance(String albumId) {
		GridFragment f = new GridFragment();
		Bundle args = new Bundle();
		args.putString(bundleAlbumId, albumId);
		f.setArguments(args);
		return f;
	}

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {

		photosList = new ArrayList&lt;Wallpaper&gt;();
		pref = new PrefManager(getActivity());

		// Getting Album Id of the item selected in navigation drawer
		// if Album Id is null, user is selected recently added option
		if (getArguments().getString(bundleAlbumId) != null) {
			selectedAlbumId = getArguments().getString(bundleAlbumId);
			Log.d(TAG,
					&quot;Selected album id: &quot;
							+ getArguments().getString(bundleAlbumId));
		} else {
			Log.d(TAG, &quot;Selected recentlyed added album&quot;);
			selectedAlbumId = null;
		}

		// Preparing the request url
		String url = null;
		if (selectedAlbumId == null) {
			// Recently added album url
			url = AppConst.URL_RECENTLY_ADDED.replace(&quot;_PICASA_USER_&quot;,
					pref.getGoogleUserName());
		} else {
			// Selected an album, replace the Album Id in the url
			url = AppConst.URL_ALBUM_PHOTOS.replace(&quot;_PICASA_USER_&quot;,
					pref.getGoogleUserName()).replace(&quot;_ALBUM_ID_&quot;,
					selectedAlbumId);
		}

		Log.d(TAG, &quot;Final request url: &quot; + url);

		View rootView = inflater.inflate(R.layout.fragment_grid, container,
				false);

		// Hiding the gridview and showing loader image before making the http
		// request
		gridView = (GridView) rootView.findViewById(R.id.grid_view);
		gridView.setVisibility(View.GONE);
		pbLoader = (ProgressBar) rootView.findViewById(R.id.pbLoader);
		pbLoader.setVisibility(View.VISIBLE);

		utils = new Utils(getActivity());

		/**
		 * Making volley's json object request to fetch list of photos of an
		 * album
		 * */
		JsonObjectRequest jsonObjReq = new JsonObjectRequest(Method.GET, url,
				null, new Response.Listener&lt;JSONObject&gt;() {

					@Override
					public void onResponse(JSONObject response) {
						Log.d(TAG,
								&quot;List of photos json reponse: &quot;
										+ response.toString());
						try {
							// Parsing the json response
							JSONArray entry = response.getJSONObject(TAG_FEED)
									.getJSONArray(TAG_ENTRY);

							// looping through each photo and adding it to list
							// data set
							for (int i = 0; i &lt; entry.length(); i++) {
								JSONObject photoObj = (JSONObject) entry.get(i);
								JSONArray mediacontentArry = photoObj
										.getJSONObject(TAG_MEDIA_GROUP)
										.getJSONArray(TAG_MEDIA_CONTENT);

								if (mediacontentArry.length() &gt; 0) {
									JSONObject mediaObj = (JSONObject) mediacontentArry
											.get(0);

									String url = mediaObj
											.getString(TAG_IMG_URL);

									String photoJson = photoObj.getJSONObject(
											TAG_ID).getString(TAG_T)
											+ &quot;&amp;imgmax=d&quot;;									

									int width = mediaObj.getInt(TAG_IMG_WIDTH);
									int height = mediaObj
											.getInt(TAG_IMG_HEIGHT);

									Wallpaper p = new Wallpaper(photoJson, url, width,
											height);

									// Adding the photo to list data set
									photosList.add(p);

									Log.d(TAG, &quot;Photo: &quot; + url + &quot;, w: &quot;
											+ width + &quot;, h: &quot; + height);
								}
							}

							// Notify list adapter about dataset changes. So
							// that it renders grid again
							adapter.notifyDataSetChanged();

							// Hide the loader, make grid visible
							pbLoader.setVisibility(View.GONE);
							gridView.setVisibility(View.VISIBLE);

						} catch (JSONException e) {
							e.printStackTrace();
							Toast.makeText(getActivity(),
									getString(R.string.msg_unknown_error),
									Toast.LENGTH_LONG).show();
						}

					}
				}, new Response.ErrorListener() {

					@Override
					public void onErrorResponse(VolleyError error) {
						Log.e(TAG, &quot;Error: &quot; + error.getMessage());
						// unable to fetch wallpapers
						// either google username is wrong or
						// devices doesn't have internet connection
						Toast.makeText(getActivity(),
								getString(R.string.msg_wall_fetch_error),
								Toast.LENGTH_LONG).show();

					}
				});

		// Remove the url from cache
		AppController.getInstance().getRequestQueue().getCache().remove(url);

		// Disable the cache for this url, so that it always fetches updated
		// json
		jsonObjReq.setShouldCache(false);

		// Adding request to request queue
		AppController.getInstance().addToRequestQueue(jsonObjReq);

		// Initilizing Grid View
		InitilizeGridLayout();

		// Gridview adapter
		adapter = new GridViewAdapter(getActivity(), photosList, columnWidth);

		// setting grid view adapter
		gridView.setAdapter(adapter);

		// Grid item select listener
		gridView.setOnItemClickListener(new OnItemClickListener() {
			@Override
			public void onItemClick(AdapterView&lt;?&gt; parent, View v,
					int position, long id) {

				// On selecting the grid image, we launch fullscreen activity
				Intent i = new Intent(getActivity(),
						FullScreenViewActivity.class);

				// Passing selected image to fullscreen activity
				Wallpaper photo = photosList.get(position);

				i.putExtra(FullScreenViewActivity.TAG_SEL_IMAGE, photo);
				startActivity(i);
			}
		});

		return rootView;
	}

	/**
	 * Method to calculate the grid dimensions Calculates number columns and
	 * columns width in grid
	 * */
	private void InitilizeGridLayout() {
		Resources r = getResources();
		float padding = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,
				AppConst.GRID_PADDING, r.getDisplayMetrics());

		// Column width
		columnWidth = (int) ((utils.getScreenWidth() - ((pref
				.getNoOfGridColumns() + 1) * padding)) / pref
				.getNoOfGridColumns());

		// Setting number of grid columns
		gridView.setNumColumns(pref.getNoOfGridColumns());
		gridView.setColumnWidth(columnWidth);
		gridView.setStretchMode(GridView.NO_STRETCH);
		gridView.setPadding((int) padding, (int) padding, (int) padding,
				(int) padding);

		// Setting horizontal and vertical padding
		gridView.setHorizontalSpacing((int) padding);
		gridView.setVerticalSpacing((int) padding);
	}

}
</pre><p>Now go back to your <strong>MainActivity.java</strong>, uncomment the <strong>GridFragment</strong> related code which you commented earlier and run the project. You should able to see the wallpapers in GridView once you selected the category from navigation drawer.</p><div class="image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-grid-view.jpg" alt="android free wallpapers app grid view" width="720" height="1000" class="alignnone size-full wp-image-20710" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-grid-view-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-grid-view.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><noscript><img src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-grid-view.jpg" alt="android free wallpapers app grid view" width="720" height="1000" class="alignnone size-full wp-image-20710" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-grid-view-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-grid-view.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /></noscript></div><p></p><h2>Wallpaper Fullscreen View</h2><p>We also providing user another option to view selected thumbnail image in fullscreen mode. So to implement this, follow below steps.</p><p><strong>27</strong>. Create an xml file named <strong>activity_fullscreen_image.xml</strong> under <strong>res â layout</strong> folder. This file contains <strong>HorizontalScrollView</strong> element to scroll the fullscreen image horizontally. Also it contains two more buttons to provide user option to <strong>apply the image as wallpaper</strong> and <strong>download the wallpaper to galleries</strong>.</p><pre class="brush: xml; title: activity_fullscreen_image.xml; notranslate" title="activity_fullscreen_image.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:background=&quot;@color/black&quot; &gt;

    &lt;ProgressBar
        android:id=&quot;@+id/pbLoader&quot;
        style=&quot;?android:attr/progressBarStyle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_centerInParent=&quot;true&quot; &gt;
    &lt;/ProgressBar&gt;

    &lt;!-- Scroll view for fullscreen preview --&gt;

    &lt;HorizontalScrollView
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:scrollbars=&quot;none&quot; &gt;

        &lt;LinearLayout
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;match_parent&quot; &gt;

            &lt;ImageView
                android:id=&quot;@+id/imgFullscreen&quot;
                android:layout_width=&quot;wrap_content&quot;
                android:layout_height=&quot;wrap_content&quot;
                android:scaleType=&quot;fitXY&quot; /&gt;
        &lt;/LinearLayout&gt;
    &lt;/HorizontalScrollView&gt;

    &lt;!-- Set as wallpaper button --&gt;

    &lt;LinearLayout
        android:id=&quot;@+id/llSetWallpaper&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_alignParentBottom=&quot;true&quot;
        android:layout_alignParentLeft=&quot;true&quot;
        android:layout_marginBottom=&quot;10dp&quot;
        android:layout_marginLeft=&quot;10dp&quot;
        android:background=&quot;@drawable/btn_rounded_corner&quot;
        android:gravity=&quot;center_vertical&quot;
        android:orientation=&quot;horizontal&quot; &gt;

        &lt;ImageView
            android:layout_width=&quot;25dp&quot;
            android:layout_height=&quot;25dp&quot;
            android:src=&quot;@drawable/ico_apply&quot; /&gt;

        &lt;TextView
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:paddingLeft=&quot;10dp&quot;
            android:text=&quot;@string/set_wallpaper&quot;
            android:textColor=&quot;@color/white&quot;
            android:textSize=&quot;18dp&quot; /&gt;
    &lt;/LinearLayout&gt;

    &lt;!-- Download wallpaper button --&gt;

    &lt;LinearLayout
        android:id=&quot;@+id/llDownloadWallpaper&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_alignParentBottom=&quot;true&quot;
        android:layout_alignParentRight=&quot;true&quot;
        android:layout_marginBottom=&quot;10dp&quot;
        android:layout_marginRight=&quot;10dp&quot;
        android:background=&quot;@drawable/btn_rounded_corner&quot;
        android:gravity=&quot;center_vertical&quot;
        android:orientation=&quot;horizontal&quot; &gt;

        &lt;ImageView
            android:layout_width=&quot;25dp&quot;
            android:layout_height=&quot;25dp&quot;
            android:src=&quot;@drawable/ico_download&quot; /&gt;

        &lt;TextView
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:paddingLeft=&quot;10dp&quot;
            android:text=&quot;@string/download_wallpaper&quot;
            android:textColor=&quot;@color/white&quot;
            android:textSize=&quot;18dp&quot; /&gt;
    &lt;/LinearLayout&gt;

&lt;/RelativeLayout&gt;
</pre><p> <strong>28</strong>. Create a class named <strong>FullScreenViewActivity.java</strong> under your main package. This class takes care of calculating the image aspect ratio in fullscreen mode. The image width will calculated respective to device height. Below steps will be execute in order show the fullscreen wallpaper.</p><p><strong>></strong> User selects the wallpaper from GridView. The selected wallpaper will be passed to fullscreen image activity.<br /> <strong>></strong> In fullscreen activity, we make another call to Picasa to get the selected wallpaper&#8217;s high resolution version.<br /> <strong>></strong> The downloaded wallpaper width will be calculated depending upon device height.<br /> <strong>></strong> Then the image will be displayed in ImageView. The HorizontalScrollView make the wallpaper scrollable horizontally.</p><pre class="brush: java; title: FullScreenViewActivity.java; notranslate" title="FullScreenViewActivity.java">
package info.androidhive.awesomewallpapers;

import info.androidhive.awesomewallpapers.app.AppController;
import info.androidhive.awesomewallpapers.picasa.model.Wallpaper;
import info.androidhive.awesomewallpapers.util.Utils;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.Point;
import android.graphics.drawable.BitmapDrawable;
import android.os.Bundle;
import android.util.Log;
import android.view.Display;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.ProgressBar;
import android.widget.Toast;

import com.android.volley.Request.Method;
import com.android.volley.Response;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.ImageLoader;
import com.android.volley.toolbox.ImageLoader.ImageContainer;
import com.android.volley.toolbox.ImageLoader.ImageListener;
import com.android.volley.toolbox.JsonObjectRequest;

public class FullScreenViewActivity extends Activity implements OnClickListener {
	private static final String TAG = FullScreenViewActivity.class
			.getSimpleName();
	public static final String TAG_SEL_IMAGE = &quot;selectedImage&quot;;
	private Wallpaper selectedPhoto;
	private ImageView fullImageView;
	private LinearLayout llSetWallpaper, llDownloadWallpaper;
	private Utils utils;
	private ProgressBar pbLoader;

	// Picasa JSON response node keys
	private static final String TAG_ENTRY = &quot;entry&quot;,
			TAG_MEDIA_GROUP = &quot;media$group&quot;,
			TAG_MEDIA_CONTENT = &quot;media$content&quot;, TAG_IMG_URL = &quot;url&quot;,
			TAG_IMG_WIDTH = &quot;width&quot;, TAG_IMG_HEIGHT = &quot;height&quot;;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_fullscreen_image);

		fullImageView = (ImageView) findViewById(R.id.imgFullscreen);
		llSetWallpaper = (LinearLayout) findViewById(R.id.llSetWallpaper);
		llDownloadWallpaper = (LinearLayout) findViewById(R.id.llDownloadWallpaper);
		pbLoader = (ProgressBar) findViewById(R.id.pbLoader);

		// hide the action bar in fullscreen mode
		getActionBar().hide();

		utils = new Utils(getApplicationContext());

		// layout click listeners
		llSetWallpaper.setOnClickListener(this);
		llDownloadWallpaper.setOnClickListener(this);

		// setting layout buttons alpha/opacity
		llSetWallpaper.getBackground().setAlpha(70);
		llDownloadWallpaper.getBackground().setAlpha(70);

		Intent i = getIntent();
		selectedPhoto = (Wallpaper) i.getSerializableExtra(TAG_SEL_IMAGE);

		// check for selected photo null
		if (selectedPhoto != null) {

			// fetch photo full resolution image by making another json request
			fetchFullResolutionImage();

		} else {
			Toast.makeText(getApplicationContext(),
					getString(R.string.msg_unknown_error), Toast.LENGTH_SHORT)
					.show();
		}
	}

	/**
	 * Fetching image fullresolution json
	 * */
	private void fetchFullResolutionImage() {
		String url = selectedPhoto.getPhotoJson();

		// show loader before making request
		pbLoader.setVisibility(View.VISIBLE);
		llSetWallpaper.setVisibility(View.GONE);
		llDownloadWallpaper.setVisibility(View.GONE);

		// volley's json obj request
		JsonObjectRequest jsonObjReq = new JsonObjectRequest(Method.GET, url,
				null, new Response.Listener&lt;JSONObject&gt;() {

					@Override
					public void onResponse(JSONObject response) {
						Log.d(TAG,
								&quot;Image full resolution json: &quot;
										+ response.toString());
						try {
							// Parsing the json response
							JSONObject entry = response
									.getJSONObject(TAG_ENTRY);

							JSONArray mediacontentArry = entry.getJSONObject(
									TAG_MEDIA_GROUP).getJSONArray(
									TAG_MEDIA_CONTENT);

							JSONObject mediaObj = (JSONObject) mediacontentArry
									.get(0);

							String fullResolutionUrl = mediaObj
									.getString(TAG_IMG_URL);

							// image full resolution widht and height
							final int width = mediaObj.getInt(TAG_IMG_WIDTH);
							final int height = mediaObj.getInt(TAG_IMG_HEIGHT);

							Log.d(TAG, &quot;Full resolution image. url: &quot;
									+ fullResolutionUrl + &quot;, w: &quot; + width
									+ &quot;, h: &quot; + height);

							ImageLoader imageLoader = AppController
									.getInstance().getImageLoader();

							// We download image into ImageView instead of
							// NetworkImageView to have callback methods
							// Currently NetworkImageView doesn't have callback
							// methods

							imageLoader.get(fullResolutionUrl,
									new ImageListener() {

										@Override
										public void onErrorResponse(
												VolleyError arg0) {
											Toast.makeText(
													getApplicationContext(),
													getString(R.string.msg_wall_fetch_error),
													Toast.LENGTH_LONG).show();
										}

										@Override
										public void onResponse(
												ImageContainer response,
												boolean arg1) {
											if (response.getBitmap() != null) {
												// load bitmap into imageview
												fullImageView
														.setImageBitmap(response
																.getBitmap());
												adjustImageAspect(width, height);

												// hide loader and show set &amp;
												// download buttons
												pbLoader.setVisibility(View.GONE);
												llSetWallpaper
														.setVisibility(View.VISIBLE);
												llDownloadWallpaper
														.setVisibility(View.VISIBLE);
											}
										}
									});

						} catch (JSONException e) {
							e.printStackTrace();
							Toast.makeText(getApplicationContext(),
									getString(R.string.msg_unknown_error),
									Toast.LENGTH_LONG).show();
						}

					}
				}, new Response.ErrorListener() {

					@Override
					public void onErrorResponse(VolleyError error) {
						Log.e(TAG, &quot;Error: &quot; + error.getMessage());
						// unable to fetch wallpapers
						// either google username is wrong or
						// devices doesn't have internet connection
						Toast.makeText(getApplicationContext(),
								getString(R.string.msg_wall_fetch_error),
								Toast.LENGTH_LONG).show();

					}
				});

		// Remove the url from cache
		AppController.getInstance().getRequestQueue().getCache().remove(url);

		// Disable the cache for this url, so that it always fetches updated
		// json
		jsonObjReq.setShouldCache(false);

		// Adding request to request queue
		AppController.getInstance().addToRequestQueue(jsonObjReq);
	}

	/**
	 * Adjusting the image aspect ration to scroll horizontally, Image height
	 * will be screen height, width will be calculated respected to height
	 * */
	@SuppressWarnings(&quot;deprecation&quot;)
	@SuppressLint(&quot;NewApi&quot;)
	private void adjustImageAspect(int bWidth, int bHeight) {
		LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(
				LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);

		if (bWidth == 0 || bHeight == 0)
			return;

		int sHeight = 0;

		if (android.os.Build.VERSION.SDK_INT &gt;= 13) {
			Display display = getWindowManager().getDefaultDisplay();
			Point size = new Point();
			display.getSize(size);
			sHeight = size.y;
		} else {
			Display display = getWindowManager().getDefaultDisplay();
			sHeight = display.getHeight();
		}

		int new_width = (int) Math.floor((double) bWidth * (double) sHeight
				/ (double) bHeight);
		params.width = new_width;
		params.height = sHeight;

		Log.d(TAG, &quot;Fullscreen image new dimensions: w = &quot; + new_width
				+ &quot;, h = &quot; + sHeight);

		fullImageView.setLayoutParams(params);
	}

	/**
	 * View click listener
	 * */
	@Override
	public void onClick(View v) {
		Bitmap bitmap = ((BitmapDrawable) fullImageView.getDrawable())
				.getBitmap();
		switch (v.getId()) {
		// button Download Wallpaper tapped
		case R.id.llDownloadWallpaper:
			utils.saveImageToSDCard(bitmap);
			break;
		// button Set As Wallpaper tapped
		case R.id.llSetWallpaper:
			utils.setAsWallpaper(bitmap);
			break;
		default:
			break;
		}

	}
}
</pre><p> <strong>29</strong>. Add the <strong>FullScreenViewActivity</strong> entry in <strong>AndroidManifest.xml</strong> file between <strong>&lt;application&gt;</strong> tags.</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;application ...&gt;       
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.FullScreenViewActivity&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
        &lt;/activity&gt;
        &lt;/activity&gt;
&lt;/application&gt;
</pre><p>Now run the project and select any image from grid view. You should able see fullscreen image activity launched with wallpaper image preview.</p><div class="image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-fullscreen-view.jpg" alt="android free wallpapers app grid view" width="720" height="1000" class="alignnone size-full wp-image-20728" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-fullscreen-view-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-fullscreen-view.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><noscript><img src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-fullscreen-view.jpg" alt="android free wallpapers app grid view" width="720" height="1000" class="alignnone size-full wp-image-20728" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-fullscreen-view-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-app-fullscreen-view.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /></noscript></div><p></p><h2>Providing Set as Wallpaper Option</h2><p><strong>30</strong>. To apply the wallpaper to device, add a click listener to set as wallpaper button and call <strong>setAsWallpaper()</strong> method presented in <strong>Utils.java</strong> class</p><p>Add below line in <strong>onCreate()</strong> method of <strong>FullScreenViewActivity.java</strong></p><pre class="brush: java; title: ; notranslate" title="">
llSetWallpaper.setOnClickListener(this);
</pre><p>Call below method in <strong>onClick()</strong> method of <strong>FullScreenViewActivity.java</strong></p><pre class="brush: java; title: ; notranslate" title="">
	/**
	 * View click listener
	 * */
	@Override
	public void onClick(View v) {
		Bitmap bitmap = ((BitmapDrawable) fullImageView.getDrawable())
				.getBitmap();
		switch (v.getId()) {		
		case R.id.llSetWallpaper:
			utils.setAsWallpaper(bitmap);
			break;
		default:
			break;
		}

	}
</pre><p>Now if you tap the <strong>Set</strong> button, the wallpaper will be applied to device.</p><div class="image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-set-as-wallpaper1.jpg" alt="android free wallpapers set as wallpaper" width="720" height="1000" class="alignnone size-full wp-image-20734" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-set-as-wallpaper1-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-set-as-wallpaper1.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><noscript><img src="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-set-as-wallpaper1.jpg" alt="android free wallpapers set as wallpaper" width="720" height="1000" class="alignnone size-full wp-image-20734" srcset="http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-set-as-wallpaper1-216x300.jpg 216w, http://www.androidhive.info/wp-content/uploads/2014/08/android-free-wallpapers-set-as-wallpaper1.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /></noscript></div><p></p><h2>Downloading Wallpaper to Gallery</h2><p><strong>31</strong>. Just like set as wallpaper, to download wallpaper to device gallery directory, add the click listener to download button and call <strong>saveImageToSDCard()</strong> method presented in <strong>Utils.java</strong></p><p>Add below line in <strong>onCreate()</strong> method of <strong>FullScreenViewActivity.java</strong></p><pre class="brush: java; title: ; notranslate" title="">
llDownloadWallpaper.setOnClickListener(this);
</pre><p>Add another case statement in <strong>onClick()</strong> method of <strong>FullScreenViewActivity.java</strong></p><pre class="brush: java; title: ; notranslate" title="">
	/**
	 * View click listener
	 * */
	@Override
	public void onClick(View v) {
		Bitmap bitmap = ((BitmapDrawable) fullImageView.getDrawable())
				.getBitmap();
		switch (v.getId()) {
		// button Download Wallpaper tapped
		case R.id.llDownloadWallpaper:
			utils.saveImageToSDCard(bitmap);
			break;
		// button Set As Wallpaper tapped
		case R.id.llSetWallpaper:
			utils.setAsWallpaper(bitmap);
			break;
		default:
			break;
		}

	}
</pre><p>Now if you tap Download Wallpaper button, the wallpaper will be downloaded to your gallery with album named <strong>Awesome Wallpapers</strong>. If you don&#8217;t see the album there, <strong>reboot your device</strong>. I couldn&#8217;t see the album created until I rebooted my device. I am yet to find the issue <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-includes/images/smilies/frownie.png" alt=":(" class="wp-smiley" /> <br /> <br /> With this we almost the completed the app. But lastly we need to add a Settings screen where user can configure <strong>Picasa username</strong>, <strong>number of grid columns</strong> and <strong>gallery directory name</strong>. <strong>This step is not necessary if you are planning to release this app in playstore</strong>. It is just for the developers who is reading this.<br /></p><h2>Adding Settings Screen</h2><p><strong>32</strong>. </strong>. Create a layout file named <strong>activity_settings.xml</strong> under res layout folder. This layout contains a form with few edittext fields and a save button.</p><pre class="brush: xml; title: activity_settings.xml; notranslate" title="activity_settings.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;vertical&quot;
    android:padding=&quot;10dp&quot; &gt;

    &lt;TextView
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;8dp&quot;
        android:layout_marginTop=&quot;15dp&quot;
        android:text=&quot;@string/lbl_google_username&quot;
        android:textColor=&quot;@color/settings_label&quot;
        android:textSize=&quot;16dp&quot; /&gt;

    &lt;EditText
        android:id=&quot;@+id/txtGoogleUsername&quot;
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;20dp&quot;
        android:background=&quot;@drawable/edittext_rounded_corner&quot;
        android:inputType=&quot;text&quot;
        android:singleLine=&quot;true&quot; /&gt;

    &lt;TextView
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;8dp&quot;
        android:text=&quot;@string/lbl_no_grid_columns&quot;
        android:textColor=&quot;@color/settings_label&quot;
        android:textSize=&quot;16dp&quot; /&gt;

    &lt;EditText
        android:id=&quot;@+id/txtNoOfColumns&quot;
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;20dp&quot;
        android:background=&quot;@drawable/edittext_rounded_corner&quot;
        android:inputType=&quot;number&quot;
        android:singleLine=&quot;true&quot; /&gt;

    &lt;TextView
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;8dp&quot;
        android:text=&quot;@string/lbl_gallery_name&quot;
        android:textColor=&quot;@color/settings_label&quot;
        android:textSize=&quot;16dp&quot; /&gt;

    &lt;EditText
        android:id=&quot;@+id/txtGalleryName&quot;
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;25dp&quot;
        android:background=&quot;@drawable/edittext_rounded_corner&quot;
        android:singleLine=&quot;true&quot; /&gt;

    &lt;Button
        android:id=&quot;@+id/btnSave&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:background=&quot;@drawable/btn_rounded_corner&quot;
        android:paddingLeft=&quot;30dp&quot;
        android:paddingRight=&quot;30dp&quot;
        android:text=&quot;@string/lbl_btn_save&quot;
        android:textColor=&quot;@color/white&quot;
        android:textSize=&quot;18dp&quot; /&gt;

&lt;/LinearLayout&gt;
</pre><p> <strong>33</strong>. </strong>. Create a class named <strong>SettingsActivity.java</strong> and add the below code. This code just validates the data entered by user and overwrites the respective values in Shared Preferences.</p><pre class="brush: java; title: SettingsActivity.java; notranslate" title="SettingsActivity.java">
package info.androidhive.awesomewallpapers;

import info.androidhive.awesomewallpapers.R;
import info.androidhive.awesomewallpapers.util.PrefManager;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

public class SettingsActivity extends Activity {
	private PrefManager pref;
	private TextView txtGoogleUsername, txtNoOfGridColumns, txtGalleryName;
	private Button btnSave;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_settings);

		txtGoogleUsername = (TextView) findViewById(R.id.txtGoogleUsername);
		txtNoOfGridColumns = (TextView) findViewById(R.id.txtNoOfColumns);
		txtGalleryName = (TextView) findViewById(R.id.txtGalleryName);
		btnSave = (Button) findViewById(R.id.btnSave);

		pref = new PrefManager(getApplicationContext());

		// Display edittext values stored in shared preferences
		// Google username
		txtGoogleUsername.setText(pref.getGoogleUserName());

		// Number of grid columns
		txtNoOfGridColumns.setText(String.valueOf(pref.getNoOfGridColumns()));

		// Gallery name
		txtGalleryName.setText(pref.getGalleryName());

		// Save settings button click listener
		btnSave.setOnClickListener(new View.OnClickListener() {

			@Override
			public void onClick(View v) {

				// Validating the data before saving to shared preferences
				// validate google username
				String googleUsername = txtGoogleUsername.getText().toString()
						.trim();
				if (googleUsername.length() == 0) {
					Toast.makeText(getApplicationContext(),
							getString(R.string.toast_enter_google_username),
							Toast.LENGTH_LONG).show();
					return;
				}

				// validate number of grid columns
				String no_of_columns = txtNoOfGridColumns.getText().toString()
						.trim();
				if (no_of_columns.length() == 0 || !isInteger(no_of_columns)) {
					Toast.makeText(getApplicationContext(),
							getString(R.string.toast_enter_valid_grid_columns),
							Toast.LENGTH_LONG).show();
					return;
				}

				// validate gallery name
				String galleryName = txtGalleryName.getText().toString().trim();
				if (galleryName.length() == 0) {
					Toast.makeText(getApplicationContext(),
							getString(R.string.toast_enter_gallery_name),
							Toast.LENGTH_LONG).show();
					return;
				}

				// Check for setting changes
				if (!googleUsername.equalsIgnoreCase(pref.getGoogleUserName())
						|| !no_of_columns.equalsIgnoreCase(String.valueOf(pref
								.getNoOfGridColumns()))
						|| !galleryName.equalsIgnoreCase(pref.getGalleryName())) {
					// User changed the settings
					// save the changes and launch SplashScreen to initialize
					// the app again
					pref.setGoogleUsername(googleUsername);
					pref.setNoOfGridColumns(Integer.parseInt(no_of_columns));
					pref.setGalleryName(galleryName);

					// start the app from SplashScreen
					Intent i = new Intent(SettingsActivity.this,
							SplashActivity.class);
					// Clear all the previous activities
					i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK
							| Intent.FLAG_ACTIVITY_CLEAR_TASK);
					startActivity(i);
				} else {
					// user not modified any values in the form
					// skip saving to shared preferences
					// just go back to previous activity
					onBackPressed();
				}

			}
		});

	}

	public boolean isInteger(String input) {
		try {
			Integer.parseInt(input);
			return true;
		} catch (Exception e) {
			return false;
		}
	}
}
</pre><p><strong>34</strong>. Finally add settings activity entry in <strong>AndroidManifest.xml</strong></p><pre class="brush: xml; title: ; notranslate" title="">
    &lt;application ...&gt;        
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.SettingsActivity&quot;
            android:label=&quot;@string/action_settings&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
        &lt;/activity&gt;
    &lt;/application&gt;
</pre><p>Finally your <strong>AndroidManifest.xml</strong> file should look like this.</p><pre class="brush: xml; title: AndroidManifest.xml; notranslate" title="AndroidManifest.xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    package=&quot;info.androidhive.awesomewallpapers&quot;
    android:versionCode=&quot;1&quot;
    android:versionName=&quot;1.0&quot; &gt;

    &lt;uses-sdk
        android:minSdkVersion=&quot;14&quot;
        android:targetSdkVersion=&quot;19&quot; /&gt;

    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;

    &lt;application
        android:name=&quot;info.androidhive.awesomewallpapers.app.AppController&quot;
        android:allowBackup=&quot;true&quot;
        android:icon=&quot;@drawable/ic_launcher&quot;
        android:label=&quot;@string/app_name&quot;
        android:theme=&quot;@style/FreeWallTheme&quot; &gt;
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.SplashActivity&quot;
            android:label=&quot;@string/app_name&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
            &lt;intent-filter&gt;
                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;

                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.MainActivity&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
        &lt;/activity&gt;
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.FullScreenViewActivity&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
        &lt;/activity&gt;
        &lt;activity
            android:name=&quot;info.androidhive.awesomewallpapers.SettingsActivity&quot;
            android:label=&quot;@string/action_settings&quot;
            android:screenOrientation=&quot;portrait&quot; &gt;
        &lt;/activity&gt;
    &lt;/application&gt;

&lt;/manifest&gt;
</pre><p>Run the app and launch settings screen by tapping overflow icon on action bar.<br /> <br /> Congratulations <img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" /> If you are succeeded all the steps until now, you just create a fully fledged wallpapers app which has good potential go into market right away. But before that I would like to address few important points to you.</p><p>> This app is doesn&#8217;t supports older versions < 4.0. For that you need to use <a rel="nofollow" href="http://developer.android.com/tools/support-library/index.html" title="Android Support Library" target="_blank" class="link">Android Support Library</a> to provide backward compatibility.</p><p>> Even though we are using Google+ / Picasa web services to provide wallpapers, in real scenario we should have a server side technology to detect the mobile device and respond the wallpapers depending on mobile configuration like screen dimensions.</p><p>If you have any queries or suggestions please leave in comment section below.</p><div style="font-size:0px;height:0px;line-height:0px;margin:0;padding:0;clear:both"></div><span id="tve_leads_end_content" style="display: block; visibility: hidden; border: 1px solid red;"></span> <script type="text/javascript">jQuery(document).ready(function($) {
    $.post('http://www.androidhive.info/wp-admin/admin-ajax.php', {action: 'mts_view_count', id: '20755'});
});</script> </div></div></div><div class="postauthor"><h4>About The Author</h4> <img alt='' src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src='http://0.gravatar.com/avatar/9578184c8f454a148b0b59dd1d21dfaf?s=100&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9578184c8f454a148b0b59dd1d21dfaf?s=200&amp;d=mm&amp;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' /><noscript><img alt='' src='http://0.gravatar.com/avatar/9578184c8f454a148b0b59dd1d21dfaf?s=100&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9578184c8f454a148b0b59dd1d21dfaf?s=200&amp;d=mm&amp;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' /></noscript><h5 class="vcard"><a href="http://www.androidhive.info/author/admin/" rel="nofollow" class="fn">Ravi Tamada</a></h5><p>Ravi is hardcore Android programmer and Android programming has been his passion since he compiled his first hello-world program. Solving real problems of Android developers through tutorials has always been interesting part for him.</p></div><div class="related-posts"><h4>Related Posts</h4><div class="clear"> <article class="latestPost excerpt  "> <a href="http://www.androidhive.info/2014/07/stealthgenie-an-android-monitoring-app-that-keep-things-on-track/" title="StealthGenie- An Android Monitoring App That Keep Things On Track" rel="nofollow" id="featured-thumbnail"><div class="featured-thumbnail"><img width="270" height="165" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/07/banner-img-270x165.jpg" class="attachment-featured size-featured wp-post-image" alt="" title="" /><noscript><img width="270" height="165" src="http://www.androidhive.info/wp-content/uploads/2014/07/banner-img-270x165.jpg" class="attachment-featured size-featured wp-post-image" alt="" title="" /></noscript></div> </a> <header><h2 class="title front-view-title"><a href="http://www.androidhive.info/2014/07/stealthgenie-an-android-monitoring-app-that-keep-things-on-track/" title="StealthGenie- An Android Monitoring App That Keep Things On Track">StealthGenie- An Android Monitoring App That Keep Things On Track</a></h2><div class="post-info"> <span class="theauthor">by <span itemprop="author"><a rel="nofollow" href="http://www.androidhive.info/author/admin/" title="Posts by Ravi Tamada" rel="author">Ravi Tamada</a><span class="divider1">/</span></div> </header> </article> <article class="latestPost excerpt  "> <a href="http://www.androidhive.info/2014/12/how-to-play-youtube-video-in-android-app/" title="How to Play YouTube Video in Android App" rel="nofollow" id="featured-thumbnail"><div class="featured-thumbnail"><img width="270" height="165" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2014/12/youtube-banner1-270x165.jpg" class="attachment-featured size-featured wp-post-image" alt="Android playing youtube video" title="" /><noscript><img width="270" height="165" src="http://www.androidhive.info/wp-content/uploads/2014/12/youtube-banner1-270x165.jpg" class="attachment-featured size-featured wp-post-image" alt="Android playing youtube video" title="" /></noscript></div> </a> <header><h2 class="title front-view-title"><a href="http://www.androidhive.info/2014/12/how-to-play-youtube-video-in-android-app/" title="How to Play YouTube Video in Android App">How to Play YouTube Video in Android App</a></h2><div class="post-info"> <span class="theauthor">by <span itemprop="author"><a rel="nofollow" href="http://www.androidhive.info/author/admin/" title="Posts by Ravi Tamada" rel="author">Ravi Tamada</a><span class="divider1">/</span></div> </header> </article> <article class="latestPost excerpt  last"> <a href="http://www.androidhive.info/2012/03/android-building-audio-player-tutorial/" title="Android Building Audio Player Tutorial" rel="nofollow" id="featured-thumbnail"><div class="featured-thumbnail"><img width="270" height="165" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2012/05/banner_audio_player-270x165.png" class="attachment-featured size-featured wp-post-image" alt="Android building music player" title="" /><noscript><img width="270" height="165" src="http://www.androidhive.info/wp-content/uploads/2012/05/banner_audio_player-270x165.png" class="attachment-featured size-featured wp-post-image" alt="Android building music player" title="" /></noscript></div> </a> <header><h2 class="title front-view-title"><a href="http://www.androidhive.info/2012/03/android-building-audio-player-tutorial/" title="Android Building Audio Player Tutorial">Android Building Audio Player Tutorial</a></h2><div class="post-info"> <span class="theauthor">by <span itemprop="author"><a rel="nofollow" href="http://www.androidhive.info/author/admin/" title="Posts by Ravi Tamada" rel="author">Ravi Tamada</a><span class="divider1">/</span></div> </header> </article> <article class="latestPost excerpt  "> <a href="http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/" title="Android Login and Registration with PHP, MySQL and SQLite" rel="nofollow" id="featured-thumbnail"><div class="featured-thumbnail"><img width="270" height="165" src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://www.androidhive.info/wp-content/uploads/2012/01/android-login-and-registration-screen-design-270x165.jpg" class="attachment-featured size-featured wp-post-image" alt="android login and registration screen design" title="" /><noscript><img width="270" height="165" src="http://www.androidhive.info/wp-content/uploads/2012/01/android-login-and-registration-screen-design-270x165.jpg" class="attachment-featured size-featured wp-post-image" alt="android login and registration screen design" title="" /></noscript></div> </a> <header><h2 class="title front-view-title"><a href="http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/" title="Android Login and Registration with PHP, MySQL and SQLite">Android Login and Registration with PHP, MySQL and SQLite</a></h2><div class="post-info"> <span class="theauthor">by <span itemprop="author"><a rel="nofollow" href="http://www.androidhive.info/author/ravi8x/" title="Posts by Ravi Tamada" rel="author">Ravi Tamada</a><span class="divider1">/</span></div> </header> </article></div></div></div><div id="disqus_thread" data-disqus-shortname="androidhive"></div></div> </article> <aside id="sidebar" class="sidebar c-4-12 " role="complementary" itemscope itemtype="http://schema.org/WPSideBar"><div id="search-2" class="widget widget_search"><h3 class="widget-title">SEARCH HERE</h3><form method="get" id="searchform" class="search-form" action="http://www.androidhive.info" _lpchecked="1"><fieldset> <input type="text" name="s" id="s" value="" placeholder="Search the site"  /> <button id="search-image" class="sbutton" type="submit" value=""> <i class="fa fa-search"></i> </button></fieldset></form></div><div id="text-9" class="widget widget_text"><div class="textwidget"><a href="http://www.androidhive.info/reviews"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=" data-lazy-src="http://api.androidhive.info/tmp/reviews_banner.jpg"/><noscript><img src="http://api.androidhive.info/tmp/reviews_banner.jpg"/></noscript></a></div></div><div id="text-6" class="widget widget_text"><h3 class="widget-title">WEâRE SOCIAL</h3><div class="textwidget"><div class="fb-page"
data-href="https://www.facebook.com/AndroidHive/"
data-width="340"
data-hide-cover="false"
data-show-facepile="true"></div></div></div><div id="text-8" class="widget widget_text"><div class="textwidget"><div class="tve-leads-shortcode tve-tl-anim tl-anim-instant tve-leads-track-shortcode_39260"><div class="tl-style" id="tve_36_set" data-state="6"><div class="tve-leads-conversion-object" data-tl-type="shortcode_39260"><div class="tve_flt"><div class="thrv-leads-form-box tve_no_drag tve_no_icons tve_element_hover thrv_wrapper tve_editor_main_content tve_36_set tve_brdr_solid tve_blue"><h2 class="tve_p_center" style="font-size: 17px;">Subscribe to Newsletter</h2><p class="tve_p_center" style="font-size: 14px;">Join our 746,498 subscribers and get access to the latest android tutorials, freebies, scripts and much more!</p><div class="thrv_wrapper thrv_lead_generation tve_clearfix tve_red tve_11 thrv_lead_generation_vertical" data-tve-style="1" data-tve-version="1" data-inputs-count="11" data-connection="api"><input type="hidden" class="tve-lg-err-msg" value="{&quot;email&quot;:&quot;Please enter a valid email address&quot;,&quot;phone&quot;:&quot;Please enter a valid phone number&quot;,&quot;required&quot;:&quot;Highlighted fields are required&quot;}"><div class="thrv_lead_generation_code" style="display: none;"></div><div class="thrv_lead_generation_container tve_clearfix"><form action="#" method="post"><input type="hidden" class="tve-f-a-hidden" value="#"><div class="tve_lead_generated_inputs_container tve_clearfix"><div class="tve_lead_fields_overlay"></div><div class="tve_lg_input_container tve_lg_input tve_lg_2"><input type="email" data-field="email" data-required="1" data-validation="email" name="email" placeholder="Email" data-placeholder="Email" style="padding-right: 20px;"></div><input id="__tcb_lg_fc" type="hidden" name="__tcb_lg_fc" value="YToxOntzOjU6InNlbmR5IjtzOjI0OiJTcHMzNzYzaEwweTVrbnZHS2xIVjB4QnciO30="><input id="_asset_group" type="hidden" name="_asset_group" value=""><input id="_asset_option" type="hidden" name="_asset_option" value=""><input id="_back_url" type="hidden" name="_back_url" value="http://www.androidhive.info/subscription-successful/"><input id="_submit_option" type="hidden" name="_submit_option" value="redirect"><input id="_use_captcha" type="hidden" name="_use_captcha" value=""><input id="_captcha_theme" type="hidden" name="_captcha_theme" value="light"><input id="_captcha_type" type="hidden" name="_captcha_type" value="image"><input id="_captcha_size" type="hidden" name="_captcha_size" value="normal"><div style="display: none"></div><div class="tve_lg_input_container tve_submit_container tve_lg_submit tve_lg_2" tve-data-style="1"><button type="Submit">Sign Up</button></div></div></form></div></div><p class="tve_p_center" style="font-size: 14px;">We strictly care about your privacy!</p></div></div></div></div></div></div></div><div id="views-2" class="widget widget_views"><h3 class="widget-title">POPULAR ANDROID TUTORIALS</h3><ul><li class="postviews"><a href="http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/"  title="Android SQLite Database Tutorial">Android SQLite Database Tutorial - 1,451,468 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2012/05/how-to-connect-android-with-php-mysql/"  title="How to connect Android with PHP, MySQL">How to connect Android with PHP, MySQL - 1,434,226 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2012/01/android-json-parsing-tutorial/"  title="Android JSON Parsing Tutorial">Android JSON Parsing Tutorial - 1,283,628 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2012/10/android-push-notifications-using-google-cloud-messaging-gcm-php-and-mysql/"  title="Android Push Notifications using Google Cloud Messaging (GCM), PHP and MySQL">Android Push Notifications using Google Cloud Messaging (GCM), PHP and MySQL - 1,215,922 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2013/11/android-sliding-menu-using-navigation-drawer/"  title="Android Sliding Menu using Navigation Drawer">Android Sliding Menu using Navigation Drawer - 1,121,014 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/"  title="Android Custom ListView with Image and Text">Android Custom ListView with Image and Text - 988,389 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/"  title="Android Login and Registration with PHP, MySQL and SQLite">Android Login and Registration with PHP, MySQL and SQLite - 986,919 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2012/07/android-gps-location-manager-tutorial/"  title="Android GPS, Location Manager Tutorial">Android GPS, Location Manager Tutorial - 754,128 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2013/10/android-tab-layout-with-swipeable-views-1/"  title="Android Tab Layout with Swipeable Views">Android Tab Layout with Swipeable Views - 702,933 views</a></li><li class="postviews"><a href="http://www.androidhive.info/2013/08/android-working-with-google-maps-v2/"  title="Android working with Google Maps V2">Android working with Google Maps V2 - 623,736 views</a></li></ul></div></aside></div> <footer id="site-footer" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter"><div class="container"><div class="footer-widgets first-footer-widgets widgets-num-3"><div class="f-widget f-widget-1"><div id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widget-title">QUICK CONTACT</h3><div class="menu-quick-contact-container"><ul id="menu-quick-contact" class="menu"><li id="menu-item-39273" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-39273"><a href="http://www.androidhive.info/advertise-with-us/">Advertise with us</a></li><li id="menu-item-39244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-39244"><a href="http://www.androidhive.info/privacy-policy/">Privacy Policy</a></li><li id="menu-item-39245" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-39245"><a href="http://www.androidhive.info/terms-of-service/">Terms of Service</a></li><li id="menu-item-39266" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-39266"><a href="http://www.androidhive.info/sitemap/">Sitemap</a></li></ul></div></div></div><div class="f-widget f-widget-2"></div><div class="f-widget last f-widget-3"><div id="text-7" class="widget widget_text"><h3 class="widget-title">ABOUT ANDROIDHIVE</h3><div class="textwidget">AndroidHive is beginner's paradise for android tutorials, tips & tricks, games, app reviews, hacks and super cool advanced topics.</div></div></div></div><div class="copyrights"><div class="row" id="copyright-note"> <span>Copyright &copy; 2016 Droid5 Informatics Pvt Ltd.</span><div class="to-top"></div></div></div></div> </footer></div><div id="fb-root"></div> <script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&version=v2.6";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script> <script id="dsq-count-scr" src="//androidhive.disqus.com/count.js" async></script> <script>/**************************************************************/
/*AM22 Named Function to load Disqus - START*/
jQuery(document).ready(function(){
var disqus_identifier = window.location.url; //Use current page URL as Disqus_URL_Identifier. You can change it as per your requirement.
var ds_loaded = false; //To track loading only once on a page.
function loadDisqus()
{
    var disqus_div = jQuery("#disqus_thread"); //The ID of the Disqus DIV tag
    var top = disqus_div.offset().top;
    var disqus_data = disqus_div.data();
    if ( !ds_loaded && jQuery(window).scrollTop() + jQuery(window).height() > top ) 
    {
        ds_loaded = true;
        for (var key in disqus_data) 
        {
            if (key.substr(0,6) == 'disqus') 
            {
                window['disqus_' + key.replace('disqus','').toLowerCase()] = disqus_data[key];
            }
        }
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = 'http://' + window.disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }  
}
/*AM22 Named Function to load Disqus - END*/
/*AM22 Disqus lazy load - START*/
jQuery(function () 
{
    var disqus_div = jQuery("#disqus_thread");
    if (disqus_div.size() > 0) 
    {
        jQuery(window).scroll(loadDisqus);      
    }  
}
);
/*AM22 Disqus lazy load - END*/
});</script><div id="tve_notification_box"></div><script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.9b'></script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js?ver=3.0.9b'></script> <script type='text/javascript'>(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://www.androidhive.info/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://www.androidhive.info/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();</script> <link rel='stylesheet' id='tve-leads-font-9062833c9baa57b288ba47a7993dc1c0-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A400%2C300%2C600%2C700' type='text/css' media='all' /> <script type='text/javascript'>/*  */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/www.androidhive.info\/wp-admin\/admin-ajax.php","post_id":"20755"};
/*  */</script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script> <script type='text/javascript' src='http://www.androidhive.info/wp-includes/js/comment-reply.min.js'></script> <script type='text/javascript'>/*  */
var tve_dash_front = {"ajaxurl":"http:\/\/www.androidhive.info\/wp-admin\/admin-ajax.php"};
/*  */</script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/thrive-leads/thrive-dashboard/js/dist/frontend.min.js?ver=1.0.10'></script> <script type='text/javascript' src='http://www.androidhive.info/wp-includes/js/wp-embed.min.js'></script> <script type='text/javascript'>/*  */
var tve_frontend_options = {"is_editor_page":"","page_events":[],"is_single":"1","ajaxurl":"http:\/\/www.androidhive.info\/wp-admin\/admin-ajax.php","social_fb_app_id":""};
/*  */</script> <script type='text/javascript' src='http://www.androidhive.info/wp-content/plugins/thrive-leads/tcb/editor/js/thrive_content_builder_frontend.min.js?ver=1.200.5'></script> <script type='text/javascript' src='//www.androidhive.info/wp-content/plugins/thrive-leads/js/frontend.min.js?ver=1.75'></script> <script type="text/javascript">/**/var TL_Const={"security":"62e7a1ef75","ajax_url":"\/\/www.androidhive.info\/wp-admin\/admin-ajax.php","forms":{"shortcode_39260":{"_key":"6","trigger":"page_load","trigger_config":{},"form_type_id":"39260","main_group_id":"39260","active_test_id":""}},"action_conversion":"tve_leads_ajax_conversion","action_impression":"tve_leads_ajax_impression","ajax_load":0,"shortcode_ids":["39260"],"custom_post_data":{"get_data":{"q":"\/2014\/08\/android-building-free-wallpapers-app-part-2\/"},"http_referrer":"http:\/\/www.androidhive.info\/2013\/10\/android-tab-layout-with-swipeable-views-1\/"},"current_screen":{"screen_type":4,"screen_id":20755},"ignored_fields":["email","_captcha_size","_captcha_theme","_captcha_type","_submit_option","_use_captcha","g-recaptcha-response","__tcb_lg_fc","_back_url","_submit_option","url","_asset_group","_asset_option","mailchimp_optin"]}/* */</script><script type="text/javascript">var TL_Front = TL_Front || {}; TL_Front.impressions_data = TL_Front.impressions_data || {};TL_Front.impressions_data.shortcode_39260 = {"group_id":"39260","form_type_id":"39260","variation_key":"6","active_test_id":null,"output_js":true};</script><script type="text/javascript">(function ($) {
	$(function () {
		var event_data = {"form_id":"tve-leads-track-shortcode_39260","form_type":"shortcode"};
		event_data.source = 'page_load';
		setTimeout(function () {
			ThriveGlobal.$j(TL_Front).trigger('showform.thriveleads', event_data);
			}, 200);
		});
	})
(ThriveGlobal.$j);</script></body></html>
<!-- This website is like a Rocket, isn't it ? Performance optimized by WP Rocket. Learn more: http://wp-rocket.me - Debug: cached@1470855338 -->